{% extends 'base.html' %}

{% block title %}Anime Search{% endblock %}

{% block content %}
<style>
    .btn {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 8px 16px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        border-radius: 4px;
    }

    .btn:hover {
        background-color: #0056b3;
    }

    .form-group {
        margin-bottom: 15px;
    }

    .list-group {
        list-style-type: none;
        padding-left: 0;
    }

    .list-group-item {
        padding: 10px;
        margin: 5px 0;
        background-color: #f8f9fa;
        border: 1px solid #ddd;
        border-radius: 5px;
    }

    .list-group-item a {
        text-decoration: none;
        color: #007bff;
    }

    .list-group-item a:hover {
        text-decoration: underline;
    }

    h4 {
        margin-top: 20px;
    }
</style>

<h3>Search for Anime</h3>

<form method="POST">
    <div class="form-group">
        <label for="query">Search Anime:</label>
        <input 
            type="text" 
            class="form-control" 
            id="query" 
            name="query" 
            placeholder="Enter anime title">
    </div>
    <br />
    <button type="submit" class="btn btn-primary">Search</button>
</form>

{% if anime_list %}
    <h4>Search Results for "{{ query }}":</h4>
    <ul class="list-group">
        {% for anime in anime_list %}
        <li class="list-group-item">
            <strong>{{ anime['title'] }}</strong> 
            ({{ anime['episodes'] }} episodes) <br>
            Score: {{ anime['score'] }} <br>
            <a href="{{ anime['url'] }}" target="_blank">More Info</a>
        </li>
        {% endfor %}
    </ul>
{% elif query %}
    <p>No results found for "{{ query }}".</p>
{% endif %}

{% endblock %}
